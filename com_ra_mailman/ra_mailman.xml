<?xml version="1.0" encoding="utf-8"?>
<!-- 05/12/22 CB Created
     01/06/25 CB version 4.4.0 (new style for emails, import reports)
     09/06/25 CB version 4.4.4 after rebuild (Dataload) and fix for restart
     13/06/25 CB 4.4.5 import_reports (needs new table)
     02/10/25 CB 4.5.4 Event invitations
-->
<extension type="component" version="4.0" method="upgrade">
    <name>RA Mailman</name>
    <element>com_ra_mailman</element>
    <creationDate>08 Dec 2025</creationDate>
    <copyright>Copyright (C) 2022. All rights reserved.</copyright>
    <license>GNU General Public License version 2 or later; see LICENSE.txt</license>
    <author>Charlie Bigley</author>
    <authorEmail>webmaster@bigley.me.uk</authorEmail>
    <authorUrl>https://docs.stokeandnewcastleramblers.org.uk</authorUrl>
    <version>4.6.0</version>
    <description>Support for Mailing lists</description>
    <namespace path="src">Ramblers\Component\Ra_mailman</namespace>
    <scriptfile>script.php</scriptfile>
    <files folder="site">
        <folder>forms</folder>
        <folder>languages</folder>
        <folder>src</folder>
        <folder>tmpl</folder> 
    </files>
    <administration>
        <menu img="components/com_ra_tools/assets/logo_90px.png">RA Mailman</menu>
        <submenu>
            <menu link="option=com_ra_tools&amp;view=dashboard">Dashboard</menu>
            <menu link="option=com_ra_mailman&amp;view=mail_lsts" view="mail_lsts" img="components/com_ra_tools/assets/images/view-16x16-walks.png" alt="Ramblers/mail lists">Mailing lists</menu>
            <menu link="option=com_ra_mailman&amp;view=mailshots" view="mailshots" img="components/com_ra_tools/assets/images/view-16x16-walks.png" alt="Ramblers/Mailshots">Mailshots</menu>
            <menu link="option=com_ra_mailman&amp;view=subscriptions" view="subscriptions" img="components/com_ra_tools/assets/images/view-16x16-walks.png" alt="Ramblers/Subscriptions">Subscriptions</menu>
            <menu link="option=com_ra_mailman&amp;view=profiles" view="profiles" img="components/com_ra_tools/assets/images/view-16x16-walks.png" alt="Ramblers/MailMan users">MailMan users</menu>
            <menu link="option=com_ra_mailman&amp;view=dataload" view="dataload" img="components/com_ra_tools/assets/images/view-16x16-walks.png" alt="Ramblers/Import members">Import list of members</menu>
        </submenu>
        <files folder="administrator">
            <folder>forms</folder>
            <folder>languages</folder>
            <folder>services</folder>
            <folder>sql</folder>
            <folder>src</folder>
            <folder>tmpl</folder>   
            <filename>access.xml</filename>
            <filename>config.xml</filename>            
        </files>
    </administration>
    <!-- Runs on install -->
    <install>
        <sql>
            <file driver="mysql" charset="utf8">sql/install.mysql.utf8.sql</file>
        </sql>
    </install>
    <!-- Runs on uninstall -->
    <uninstall>
        <sql>
            <file driver="mysql" charset="utf8">sql/uninstall.mysql.utf8.sql</file>
        </sql>
    </uninstall>
    <!-- Runs on update -->
    <update>
        <schemas>
            <schemapath type="mysql">sql/updates/mysql/</schemapath>
        </schemas>
    </update>
</extension>
